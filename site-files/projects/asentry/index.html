<!DOCTYPE html>
<html lang="en-CA">
<head>
<title>asentry - Lenâ€™s Stuff</title>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1">
<link rel="stylesheet" type="text/css" href="../../css/site.css">
</head>
<body>
<header>
<hgroup>
<a href="/"><img src="/assets/logo.jpg" class="logo" alt="home"></a>
<h1>asentry</h1>
<p>Device to warn of potential asteroid impacts</p>
</hgroup>
<nav>
<!--nav button--><label for="navCheck">&nbsp;</label><input type="checkbox" id="navCheck">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#hardware">Hardware</a></li>
<li><a href="#firmware">Firmware</a></li>
<li><a href="#case">Case</a></li>
<li><a href="/">Home</a></li>
</ul>
</nav>
</header>

<main>
<aside><a href="asentry.jpg"><img src="asentry.jpg" alt="asentry device"></a></aside>

<h1><a name="overview"></a>Overview</h1>
<p>I used a
<a href="https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html#raspberry-pi-pico-w-and-pico-wh">Raspberry Pi Pico W</a>
and <a href="https://circuitpython.org/">CircuitPython</a>
to make a device that monitors NASA JPLâ€™s
<a href="https://cneos.jpl.nasa.gov/sentry/">Sentry</a> web service
and warns of potential Earth-threatening asteroids. This is a description of how itâ€™s made.
Know when to panic! <no-wrap>ðŸŒŽðŸŒ ðŸ˜±</no-wrap></p>

<p>Source code and design files for this project are available <a href="https://github.com/Len42/asentry-gadget">on GitHub</a>.</p>

<p>This device is based on <a href="https://learn.adafruit.com/generating-text-with-chatgpt-pico-w-circuitpython">a project by Jeff Epler</a>.</p>

<aside><p>If you want to get asteroid alerts on your computer instead of making a stand-alone device, thereâ€™s <a href="https://github.com/Len42/asentry">a Python program</a> for that.</p></aside>

<h1><a name="hardware"></a>Hardware</h1>
<p>The <a href="https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html#raspberry-pi-pico-w-and-pico-wh">Pico W</a>
connects to the internet via wifi, and it is also connected to
an <a href="https://www.adafruit.com/product/938">OLED display</a>,
an <a href="https://www.adafruit.com/product/5770">I2S audio amplifier</a>,
and a pushbutton.
A <a href="https://www.adafruit.com/product/5200">PiCowbell proto board</a>
hooks things together.</p>

<p>Here is a wiring diagram and photo showing how the components are connected.
(<a href="https://github.com/Len42/asentry-gadget/raw/main/hardware/asentry.fzz">A Fritzing file is here.</a>)</p>
<g-row>
<g-col><a href="wiring1.png"><img src="wiring1.png" alt="wiring diagram"></a></g-col>
<g-col><a href="wiring2.jpg"><img src="wiring2.jpg" alt="wiring photo"></a></g-col>
</g-row>

<p>Note that special cables are used for the OLED display and the speaker.</p>
TODO: header connectors vs soldered connections

<p>The Pico W is stacked on top of the PiCowbell board using header connectors, as shown below.</p>
<g-row>
<g-col><a href="picowbell1.jpg"><img src="picowbell1.jpg" alt="Pico W and PiCowbell"></a></g-col>
<g-col><a href="picowbell2.jpg"><img src="picowbell2.jpg" alt="Pico W and PiCowbell"></a></g-col>
</g-row>

<p>TODO: headers for button & I2S</p>

<p>TODO: BOM, including cables & connectors</p>

<h1><a name="firmware"></a>Firmware</h1>
<p>The firmware that runs on the Pico W has to perform several tasks:</p>
<ul>
<li>Send HTTP requests to NASA's Sentry web service</li>
<li>Parse the result data, which is in JSON format</li>
<li>Display alert messages on the OLED display</li>
<li>Play alarm sounds using the I2S amplifier</li>
</ul>
<p><a href="https://circuitpython.org/">CircuitPython</a> makes it easy to write code to do all of that.</p>

<h2>Installing CircuitPython</h2>
<p></p>CircuitPython must be installed on the Pico W, if it isnâ€™t already.
<a href="https://learn.adafruit.com/generating-text-with-chatgpt-pico-w-circuitpython/installing-circuitpython">Click here for instructions.</a></p>

<h2>Downloading the Code</h2>
<p>TODO: <a href="https://github.com/Len42/asentry-gadget/releases/latest/download/firmware.zip">firmware files</a></p>
<p>similar instructions: https://learn.adafruit.com/generating-text-with-chatgpt-pico-w-circuitpython/coding-the-text-generator</p>

<p>TODO: settings.toml</p>

<p>TODO: alert.wav</p>

<h2>Code Details</h2>

<p>TODO: API doc https://ssd-api.jpl.nasa.gov/doc/sentry.html</p>

<p>TODO: Python code: https://github.com/Len42/asentry-gadget/blob/main/firmware/code.py</p>

<h1><a name="case"></a>Case</h1>
<p>TODO</p>

</main>

<footer><g-row><g-col style="width: 110px; vertical-align: middle">
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
<img src="https://i.creativecommons.org/l/by/4.0/88x31.png" alt="Creative Commons Licence"/></a>
</g-col>
<g-col>Â© 2024 Len Popp<br>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
</g-col></g-row></footer>

</body>
</html>
