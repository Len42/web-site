<!DOCTYPE html>
<html lang="en-CA">
<head>
<title>Building Firmware - dat ting - Len’s Stuff</title>
<meta name="author" content="Len Popp">
<link rel="license" href="#license">
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1">
<link rel="stylesheet" type="text/css" href="../../css/site.css">
</head>
<body>
<header>
<hgroup>
<a href="/"><img src="/assets/logo.jpg" class="logo" alt="home"></a>
<h1>dat ting &ndash; Build the Firmware</h1>
<p>Compile and download firmware from the command line</p>
</hgroup>
<nav>
<!--nav button--><label for="navCheck">&nbsp;</label><input type="checkbox" id="navCheck">
<ul>
<li><a href="#libraries">Libraries</a></li>
<li><a href="#bootloader">Bootloader</a></li>
<li><a href="#build">Build</a></li>
<li>Back to <a href=".">dat ting</a></li>
<li><a href="/">Home</a></li>
</ul>
</nav>
</header>

<main>

<aside><p>If you’re using Visual Studio Code for development,
<a href="https://github.com/electro-smith/DaisyWiki/wiki/1.-Setting-Up-Your-Development-Environment#4a-flashing-the-daisy-via-usb">follow these instructions</a>
to compile and download the firmware.
</p></aside>

<p>Here’s how to build and download the firmware for the <em>dat ting</em> module from the command line (shell or Windows Command Prompt).</p>

<p><em>Note: These instructions use Linux/Mac-style pathnames with <kbd>/</kbd> as the directory separator. For the Windows Command Prompt, use <kbd>\</kbd> instead.</em></p>

<p><em>Note: In these instructions, replace <kbd><em>[repo-dir]</em></kbd> with the pathname of the <em>dat ting</em> repository.</em></p>

<h1><a name="libraries"></a>Libraries</h1>
<p>Build the Daisy libraries, if necessary. This only needs to be done the first time the firmware is compiled or if the libraries are updated.</p>
<code>cd <em>[repo-dir]</em>/lib/libDaisy
make
cd <em>[repo-dir]</em>/lib/DaisySP
make
</code>

<h1><a name="bootloader"></a>Bootloader Mode</h1>
<p>Put the Daisy Seed into bootloader mode.</p>
<ul>
<li>Connect the Daisy Seed to the computer via USB.</li>
<li>Press <em>and hold</em> the <kbd>BOOT</kbd> button.</li>
<li>Press <em>and release</em> the <kbd>RESET</kbd> button.</li>
<li>Release the <kbd>BOOT</kbd> button.</li>
<li>The Seed’s on-board LED will start pulsing in a particular way to indicate bootloader mode.</li>
</ul>

<h1><a name="build"></a>Build and Download</h1>
<p>Compile the firmware and download it to the Daisy Seed.</p>
<code>cd <em>[repo-dir]</em>/firmware/src
make all program-dfu
</code>

<p>After downloading, the Daisy Seed will reboot and the bootup sequence will be displayed on the module’s OLED display.</p>

</main>

<footer><g-row><g-col style="width: 110px; vertical-align: middle">
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
<img src="https://i.creativecommons.org/l/by/4.0/88x31.png" alt="Creative Commons Licence"/></a>
</g-col>
<g-col><div id="license">© 2024 Len Popp<br>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
</div></g-col></g-row></footer>

</body>
</html>
